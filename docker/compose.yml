services:
  carousel:
    image: ghcr.io/morgankryze/carousel:stable
    container_name: carousel
    restart: unless-stopped
    user: root
    privileged: true
    devices:
      - /dev/gpiomem:/dev/gpiomem
      - /dev/mem:/dev/mem
      - /dev/gpiochip0:/dev/gpiochip0
      - /dev/spidev0.0:/dev/spidev0.0
      - /dev/spidev0.1:/dev/spidev0.1
    volumes:
      - /sys:/sys
      - /sys/class/gpio:/sys/class/gpio
      # Persistent app data
      - ../configs:/app/configs
      - ../logs:/app/logs
    network_mode: host